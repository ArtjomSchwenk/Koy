[gd_scene load_steps=38 format=3 uid="uid://prh35jb6tjtd"]

[ext_resource type="PackedScene" uid="uid://16iu10wxub40" path="res://Assets/Sofia/sophia_skin/model/sophia.glb" id="1_e4pev"]
[ext_resource type="Script" uid="uid://3dt3fhdgvw5h" path="res://Assets/Sofia/sophia_skin/sophia_skin.gd" id="3_gde8a"]
[ext_resource type="Material" uid="uid://dye01l0ct4fby" path="res://Assets/Sofia/sophia_skin/model/materials/eye_mat_override.tres" id="4_mms51"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vapre"]
animation = &"EdgeGrab"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_84eem"]
animation = &"Fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bdqby"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_is0ey"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_olyh3"]
animation = &"RunTiltL"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_81hhq"]
animation = &"RunTiltR"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nf0s3"]
animation = &"Run"

[sub_resource type="AnimationNodeAdd3" id="AnimationNodeAdd3_i8et5"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_mx8fd"]
graph_offset = Vector2(-362, 27)
nodes/L/node = SubResource("AnimationNodeAnimation_olyh3")
nodes/L/position = Vector2(-100, 320)
nodes/R/node = SubResource("AnimationNodeAnimation_81hhq")
nodes/R/position = Vector2(-240, 240)
nodes/Run/node = SubResource("AnimationNodeAnimation_nf0s3")
nodes/Run/position = Vector2(-120, 120)
nodes/tilt/node = SubResource("AnimationNodeAdd3_i8et5")
nodes/tilt/position = Vector2(80, 160)
node_connections = [&"output", 0, &"tilt", &"tilt", 0, &"L", &"tilt", 1, &"Run", &"tilt", 2, &"R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ln86s"]
animation = &"WallSlide"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aehxm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bp3m8"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kwnko"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ykos7"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0wv7u"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5rcd0"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_umbj3"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_525xv"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5lsn0"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k4ifp"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_i5k5f"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_graxy"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8tjks"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_h6oe5"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8l37g"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p1j7t"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mybu0"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6rf72"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cm2qm"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_goywk"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mn3tt"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cwktt"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_xxcga"]
states/EdgeGrab/node = SubResource("AnimationNodeAnimation_vapre")
states/EdgeGrab/position = Vector2(327, 290)
states/End/position = Vector2(627, 166)
states/Fall/node = SubResource("AnimationNodeAnimation_84eem")
states/Fall/position = Vector2(474, 205)
states/Idle/node = SubResource("AnimationNodeAnimation_bdqby")
states/Idle/position = Vector2(327, 122)
states/Jump/node = SubResource("AnimationNodeAnimation_is0ey")
states/Jump/position = Vector2(327, 205)
states/Move/node = SubResource("AnimationNodeBlendTree_mx8fd")
states/Move/position = Vector2(474, 122)
states/Start/position = Vector2(327, 44)
states/WallSlide/node = SubResource("AnimationNodeAnimation_ln86s")
states/WallSlide/position = Vector2(474, 290)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_aehxm"), "Idle", "Jump", SubResource("AnimationNodeStateMachineTransition_bp3m8"), "Jump", "Idle", SubResource("AnimationNodeStateMachineTransition_kwnko"), "Jump", "Fall", SubResource("AnimationNodeStateMachineTransition_ykos7"), "Fall", "Jump", SubResource("AnimationNodeStateMachineTransition_0wv7u"), "Fall", "Idle", SubResource("AnimationNodeStateMachineTransition_5rcd0"), "Idle", "Fall", SubResource("AnimationNodeStateMachineTransition_umbj3"), "Idle", "Move", SubResource("AnimationNodeStateMachineTransition_525xv"), "Move", "Idle", SubResource("AnimationNodeStateMachineTransition_5lsn0"), "Fall", "Move", SubResource("AnimationNodeStateMachineTransition_k4ifp"), "Move", "Fall", SubResource("AnimationNodeStateMachineTransition_i5k5f"), "Move", "Jump", SubResource("AnimationNodeStateMachineTransition_graxy"), "Jump", "Move", SubResource("AnimationNodeStateMachineTransition_8tjks"), "Jump", "EdgeGrab", SubResource("AnimationNodeStateMachineTransition_h6oe5"), "WallSlide", "Fall", SubResource("AnimationNodeStateMachineTransition_8l37g"), "Jump", "WallSlide", SubResource("AnimationNodeStateMachineTransition_p1j7t"), "EdgeGrab", "Fall", SubResource("AnimationNodeStateMachineTransition_mybu0"), "EdgeGrab", "WallSlide", SubResource("AnimationNodeStateMachineTransition_6rf72"), "Fall", "EdgeGrab", SubResource("AnimationNodeStateMachineTransition_cm2qm"), "WallSlide", "Jump", SubResource("AnimationNodeStateMachineTransition_goywk"), "EdgeGrab", "Jump", SubResource("AnimationNodeStateMachineTransition_mn3tt"), "Fall", "WallSlide", SubResource("AnimationNodeStateMachineTransition_cwktt")]
graph_offset = Vector2(-264, 106)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_qa7x4"]
nodes/output/position = Vector2(200, 0)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_xxcga")
nodes/StateMachine/position = Vector2(0, 0)
node_connections = [&"output", 0, &"StateMachine"]

[node name="SophiaSkin" type="Node3D"]

[node name="sophia" parent="." instance=ExtResource("1_e4pev")]

[node name="Skeleton3D" parent="sophia/rig" index="0"]
bones/0/position = Vector3(-0.020354507, 0.4962656, -0.008379078)
bones/0/rotation = Quaternion(0.12472496, -0.07669122, 0.018793922, 0.9890445)
bones/1/rotation = Quaternion(-0.0644765, 2.4167748e-09, -4.122523e-09, 0.99791926)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(-0.077279136, -0.042600486, 0.00060008164, 0.9960989)
bones/3/rotation = Quaternion(-0.0015359584, -0.12729067, -0.002914599, 0.99186)
bones/4/rotation = Quaternion(0.14723828, 0.084491074, -0.00960283, 0.985439)
bones/5/rotation = Quaternion(-0.11464784, -1.0599841e-09, 1.4507046e-08, 0.9934063)
bones/6/rotation = Quaternion(-0.015784647, 0.08502412, -0.0013471547, 0.99625295)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(0.9903511, 0.11422941, 0.010490669, 0.07775932)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(0.99032396, -0.114464305, 0.0075056683, -0.07810401)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.84117496, -0.052915767, 0.033787746, 0.5371063)
bones/10/rotation = Quaternion(0.40975556, -0.008623959, 0.019193439, 0.9119527)
bones/11/rotation = Quaternion(0.8236438, 0.09305912, -0.17735048, 0.5305636)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.40950146, -0.020253738, 0.022084646, 0.9118172)
bones/13/rotation = Quaternion(0.80548865, -0.19554298, 0.24244156, 0.50415576)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.40999106, 0.0030062674, 0.016299037, 0.911939)
bones/15/rotation = Quaternion(-0.3397211, -0.12254998, -0.4734807, 0.8033598)
bones/15/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(2.0933856e-08, 1.3021159e-07, -0.091117375, 0.99584025)
bones/17/rotation = Quaternion(-0.35617176, 0.059755012, 0.3220184, 0.87514293)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(8.63201e-08, -6.7115266e-08, -0.09111766, 0.9958402)
bones/19/rotation = Quaternion(-0.40608406, -0.066114634, -0.11110291, 0.90464395)
bones/20/rotation = Quaternion(-1.764304e-07, -2.3780135e-08, -0.09111743, 0.99584025)
bones/21/rotation = Quaternion(-0.41135994, -0.0076486776, -0.052636985, 0.9099198)
bones/22/rotation = Quaternion(-2.4091645e-07, 3.1930192e-09, -0.09111748, 0.9958402)
bones/23/rotation = Quaternion(-0.57975745, -0.38261652, -0.39648923, 0.6002351)
bones/24/rotation = Quaternion(-0.18008693, 0.62245876, -0.52934474, 0.54763865)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(-2.8434439e-08, 0.06935179, 7.450578e-09)
bones/25/rotation = Quaternion(7.380267e-08, -0.027399113, 2.1077087e-08, 0.99962467)
bones/26/position = Vector3(-3.30328e-08, 0.06935183, -7.2529183e-09)
bones/26/rotation = Quaternion(0.3587546, -0.027399302, 0.010537414, 0.9329702)
bones/27/position = Vector3(-1.0005895e-07, 0.06411955, -5.122263e-09)
bones/27/rotation = Quaternion(-2.217929e-07, -0.0005137331, -2.0425276e-07, 0.99999994)
bones/28/position = Vector3(2.5463677e-08, 0.06411971, 1.7002112e-08)
bones/28/rotation = Quaternion(-0.02256618, -0.0003859093, 0.051859926, 0.9983993)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(0.152207, 0.687514, 0.0919657, 0.70406)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(0.5862046, -0.07281534, -0.1584981, 0.791164)
bones/31/rotation = Quaternion(0.42265254, -0.0003000646, -0.0010019303, 0.9062912)
bones/32/rotation = Quaternion(0.42477882, 0.00065151433, 0.001632816, 0.90529555)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.043278806, 0.8223736, 0.4188609, 0.38260186)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.6059533, -0.051935483, 0.052643813, 0.79205555)
bones/35/rotation = Quaternion(0.49004665, -0.012868964, -0.025310501, 0.8712337)
bones/35/scale = Vector3(1, 1, 1)
bones/37/rotation = Quaternion(0.5944043, -0.076825224, -0.07729931, 0.7967474)
bones/38/rotation = Quaternion(0.42502674, 0.00022627444, 0.00073752657, 0.9051804)
bones/39/rotation = Quaternion(0.42479095, -0.00048458457, -0.0012023462, 0.9052906)
bones/39/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(0.00451177, 0.702559, -0.0298239, 0.710986)
bones/40/scale = Vector3(1, 1, 1)
bones/41/rotation = Quaternion(0.60418296, 0.020974819, -0.020213591, 0.796313)
bones/41/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(0.49698317, -7.620203e-05, -0.0001870876, 0.8677602)
bones/43/rotation = Quaternion(0.4980186, 0.00015289322, 0.00030425924, 0.8671663)
bones/44/rotation = Quaternion(-0.0664032, 0.722, -0.0943871, 0.682201)
bones/44/scale = Vector3(1, 1, 1)
bones/45/rotation = Quaternion(0.6082469, 0.035025116, 0.05230381, 0.79124796)
bones/45/scale = Vector3(1, 1, 1)
bones/46/rotation = Quaternion(0.5104949, 1.106529e-05, 4.876845e-05, 0.85988086)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.514301, -3.908084e-05, -7.179821e-05, 0.8576098)
bones/48/rotation = Quaternion(-0.579758, 0.382616, 0.396489, 0.600235)
bones/49/rotation = Quaternion(-0.3536708, -0.6593617, 0.35598573, 0.5598511)
bones/49/scale = Vector3(1, 1, 1)
bones/50/position = Vector3(6.545451e-08, 0.0693517, 1.1175876e-08)
bones/50/rotation = Quaternion(5.0992323e-08, -0.0278254, -1.7379017e-07, 0.9996128)
bones/51/position = Vector3(6.3970134e-08, 0.06935181, 2.1280567e-08)
bones/51/rotation = Quaternion(0.27356786, -0.027825145, 0.00791715, 0.9614176)
bones/52/position = Vector3(3.4691762e-08, 0.064119704, -9.4529234e-08)
bones/52/rotation = Quaternion(-5.8123856e-08, -0.00051367434, -6.342441e-09, 0.99999994)
bones/53/position = Vector3(4.3119677e-08, 0.06411977, -9.508382e-08)
bones/53/rotation = Quaternion(0.017439613, -0.00065498304, -0.051851984, 0.99850225)
bones/53/scale = Vector3(1, 1, 1)
bones/55/position = Vector3(-0.007881446, 0.1267775, 0.022745017)
bones/55/rotation = Quaternion(0.6349347, 0.08099386, 0.12939136, 0.7573347)
bones/56/rotation = Quaternion(0.42233324, 0.037719026, -0.016449185, 0.9055062)
bones/57/rotation = Quaternion(0.42477828, -0.0006528856, -0.0016316895, 0.9052958)
bones/57/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(0.043278664, 0.82237345, 0.418861, -0.38260207)
bones/59/rotation = Quaternion(0.6059534, 0.05193548, -0.052643884, 0.7920555)
bones/59/scale = Vector3(1, 1, 1)
bones/60/rotation = Quaternion(0.49004662, 0.012869041, 0.025310742, 0.8712337)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(0.0846267, -0.720317, -0.0385398, 0.687383)
bones/62/position = Vector3(-0.0056192274, 0.12617089, 0.023323692)
bones/62/rotation = Quaternion(0.64248645, 0.08036376, 0.052897464, 0.76023334)
bones/62/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(0.42466265, 0.03569975, -0.017606253, 0.9044762)
bones/64/rotation = Quaternion(0.42479068, 0.00048468768, 0.001202342, 0.9052907)
bones/64/scale = Vector3(1, 1, 1)
bones/65/rotation = Quaternion(0.00451176, -0.702559, 0.0298239, 0.710986)
bones/65/scale = Vector3(1, 1, 1)
bones/66/position = Vector3(-0.008360844, 0.12714154, 0.022695499)
bones/66/rotation = Quaternion(0.6533461, -0.020643393, 0.0012977588, 0.7567767)
bones/66/scale = Vector3(1, 1, 1)
bones/67/rotation = Quaternion(0.496619, 0.03362087, -0.019024724, 0.8671086)
bones/68/rotation = Quaternion(0.49801826, -0.00015175341, -0.00030471903, 0.8671666)
bones/69/rotation = Quaternion(-0.0664032, -0.722, 0.094387, 0.682201)
bones/69/scale = Vector3(1, 1, 1)
bones/70/position = Vector3(-0.005701613, 0.12279509, 0.022938041)
bones/70/rotation = Quaternion(0.6573624, -0.038928486, -0.06508243, 0.74974906)
bones/71/rotation = Quaternion(0.51019025, 0.029603653, -0.01763024, 0.85937107)
bones/71/scale = Vector3(1, 1, 1)
bones/72/rotation = Quaternion(0.51430076, 3.8832277e-05, 7.1958166e-05, 0.85760987)
bones/72/scale = Vector3(1, 1, 1)
bones/73/scale = Vector3(1, 1, 1)
bones/74/rotation = Quaternion(0.782333, 0.24861594, -0.17112592, 0.54484963)
bones/74/scale = Vector3(1, 1, 1)
bones/75/rotation = Quaternion(0.78233296, -0.24861604, 0.17112581, 0.54484963)
bones/76/rotation = Quaternion(0.9859656, 2.8449682e-08, -1.6042481e-08, -0.16694881)
bones/76/scale = Vector3(1, 1, 0.999998)
bones/77/rotation = Quaternion(-0.030678887, 1.957515e-08, 9.258379e-10, 0.9995293)
bones/78/rotation = Quaternion(-0.03010153, -9.416816e-09, 5.131731e-09, 0.99954695)
bones/79/rotation = Quaternion(-0.152455, -0.79333, -0.285504, 0.515628)
bones/80/rotation = Quaternion(-0.152455, 0.79333, 0.285504, 0.515628)
bones/81/rotation = Quaternion(0.962987, 0.13425101, -0.059842803, 0.22594617)
bones/81/scale = Vector3(1, 1, 0.999999)
bones/82/position = Vector3(4.0262864e-09, 0.09425194, -2.7339116e-08)
bones/82/rotation = Quaternion(-3.3711686e-08, -0.052151322, 1.2223629e-08, 0.9986392)
bones/83/position = Vector3(1.5889889e-08, 0.09425195, 1.3329547e-08)
bones/83/rotation = Quaternion(0.30222598, -0.05212804, 0.016554581, 0.951666)
bones/84/position = Vector3(1.751695e-09, 0.09256122, 1.0277262e-08)
bones/84/rotation = Quaternion(7.0904544e-09, -0.07959462, 1.1783188e-08, 0.99682736)
bones/85/position = Vector3(1.9390427e-08, 0.092561126, -2.2068775e-08)
bones/85/rotation = Quaternion(-0.5258376, -0.044584155, 0.13469784, 0.83866775)
bones/85/scale = Vector3(1, 1, 1)
bones/86/position = Vector3(-2.6709067e-08, 0.22408424, 3.7787494e-08)
bones/86/rotation = Quaternion(2.3193132e-05, 0.93220454, -0.361932, -8.299834e-06)
bones/86/scale = Vector3(1, 1, 1)
bones/87/rotation = Quaternion(0.97228473, -0.072006345, 0.049857605, 0.21677619)
bones/87/scale = Vector3(1, 1, 0.999999)
bones/88/position = Vector3(-1.5956433e-08, 0.09473321, 5.933809e-10)
bones/88/rotation = Quaternion(-4.410704e-08, 0.05989241, 1.5547396e-08, 0.9982049)
bones/89/position = Vector3(-2.4356353e-08, 0.09473327, 2.3282933e-09)
bones/89/rotation = Quaternion(0.21579129, 0.05994094, -0.013273078, 0.9745076)
bones/90/position = Vector3(1.0783471e-08, 0.093051754, -1.301859e-08)
bones/90/rotation = Quaternion(-9.2480946e-08, -0.010118317, -2.4974103e-09, 0.99994886)
bones/91/position = Vector3(-3.9171937e-09, 0.093051754, 1.0220447e-09)
bones/91/rotation = Quaternion(-0.55535495, -0.044989288, -0.057600062, 0.82839555)
bones/91/scale = Vector3(1, 1, 1)
bones/92/position = Vector3(-1.144757e-08, 0.22408819, 3.4813496e-08)
bones/92/rotation = Quaternion(-1.1313469e-05, 0.95310324, -0.30264565, 2.883488e-06)
bones/92/scale = Vector3(1, 1, 1)

[node name="Sophia" parent="sophia/rig/Skeleton3D" index="0"]
lod_bias = 0.001
surface_material_override/1 = ExtResource("4_mms51")
surface_material_override/2 = ExtResource("4_mms51")
script = ExtResource("3_gde8a")

[node name="AnimationTree" type="AnimationTree" parent="."]
unique_name_in_owner = true
root_node = NodePath("%AnimationTree/../sophia")
tree_root = SubResource("AnimationNodeBlendTree_qa7x4")
anim_player = NodePath("../sophia/AnimationPlayer")
parameters/StateMachine/Move/tilt/add_amount = 0.0

[node name="BlinkTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.2
one_shot = true
autostart = true

[node name="ClosedEyesTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.2
one_shot = true
autostart = true

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9289841, 0.37011972, 0, 0.37011972, -0.9289841, 0, 2.120555, -1.5768611)

[editable path="sophia"]
